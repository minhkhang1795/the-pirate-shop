(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),c=a.n(o),l=a(39),i=(a(45),a(5)),s=a(6),u=a(8),m=a(7),p=a(9),d=(a(47),a(49),a(51),a(53),a(28)),h=a(20),E=a(2),v=a(27),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={collapse:!1,isWideEnough:!1},a.onClick=a.onClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onClick",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){var e=this,t=this.props,a=t.activeItem,n=t.itemsCount;return r.a.createElement(E.Navbar,{color:"unique-color-dark",dark:!0,expand:"md",fixed:"top",scrolling:!0},r.a.createElement(E.NavbarBrand,{href:"/"},r.a.createElement("strong",null,"The Pirate Shop")),!this.state.isWideEnough&&r.a.createElement(E.NavbarToggler,{onClick:this.onClick}),r.a.createElement(E.Collapse,{isOpen:this.state.collapse,navbar:!0},r.a.createElement(E.NavbarNav,{right:!0},r.a.createElement(E.NavItem,{active:""===a,onClick:function(){return e.props.updateNavItem("")}},r.a.createElement(E.NavLink,{to:"/"},"Shop")),r.a.createElement(E.NavItem,{active:"cart"===a,onClick:function(){return e.props.updateNavItem("cart")}},r.a.createElement(E.NavLink,{to:"/cart"},"Cart",r.a.createElement("span",{className:"badge badge-danger ml-2"},n>10?"10+":n))),r.a.createElement(E.NavItem,null,r.a.createElement(E.Dropdown,null,r.a.createElement(E.DropdownToggle,{nav:!0,caret:!0},"Account"),r.a.createElement(E.DropdownMenu,null,r.a.createElement(v.a,{className:"my-dropdown",to:"/sign-in",onClick:function(){return e.props.updateNavItem("sign-in")}},r.a.createElement(E.DropdownItem,{active:"sign-in"===a},"Sign In")),r.a.createElement(v.a,{className:"my-dropdown",to:"/sign-up",onClick:function(){return e.props.updateNavItem("sign-up")}},r.a.createElement(E.DropdownItem,{active:"sign-up"===a},"Create an Account"))))))))}}]),t}(r.a.Component),y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.Container,null,r.a.createElement(E.Modal,{isOpen:!0},r.a.createElement(E.ModalHeader,{size:"md"},"Add to Favorites"),r.a.createElement(E.ModalBody,null,"Please sign in to add items to your favorite list. However, account related features are still under construction!"),r.a.createElement(E.ModalFooter,null,r.a.createElement(E.Button,{color:"dark",onClick:function(){return e.props.onClose()}},"Close")," ")))}}]),t}(r.a.Component),C=a(29),b=a.n(C),g=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.item.quantity?this.props.item.quantity:0;return r.a.createElement(E.Container,null,r.a.createElement(E.Modal,{isOpen:!0},r.a.createElement(E.ModalHeader,{toggle:this.toggle,size:"md"},"Add to Cart"),r.a.createElement(E.ModalBody,null,"How many items do you want to purchase? 0 will remove the item from cart."),r.a.createElement(b.a,{min:0,value:t,onChange:function(e){return t=e}}),r.a.createElement(E.ModalFooter,null,r.a.createElement(E.Button,{color:"dark",onClick:function(){return e.props.onClose()}},"Close")," ",r.a.createElement(E.Button,{color:"green",onClick:function(){return e.props.onCartUpdate(e.props.item,t)}},"Done")," ")))}}]),t}(r.a.Component),k=localStorage.token;k||(k=localStorage.token=Math.random().toString(36).substr(-8));var w={Accept:"application/json",Authorization:k},O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.video;return r.a.createElement(E.Col,{lg:"4",md:"12",className:"mb-4"},r.a.createElement(E.Card,{wide:!0},r.a.createElement(E.CardImage,{cascade:!0,src:t.Poster,top:!0,alt:t.Title}),r.a.createElement(E.CardBody,{cascade:!0,className:"text-center"},r.a.createElement("a",{href:"",className:"text-muted"},r.a.createElement("h5",{color:"unique-color-dark"},t.Title)),r.a.createElement(E.CardTitle,null,r.a.createElement("strong",null,t.Director)),r.a.createElement(E.CardText,null,t.Plot),r.a.createElement(E.CardFooter,{className:"px-1"},r.a.createElement("span",{className:"float-left font-weight-bold"},r.a.createElement("strong",null,"$",t.price)),r.a.createElement("span",{className:"float-right"},r.a.createElement(E.Badge,{color:"DVD"===t.cdType?"green":"orange",pill:!0},t.cdType),"    ",r.a.createElement("a",{onClick:function(){return e.props.onCartClick(t)}},r.a.createElement(E.Tooltip,{placement:"top",tag:"a",component:"i",componentClass:"fa fa-cart-plus grey-text ml-3",tooltipContent:"Add to Cart"})),r.a.createElement("a",{onClick:function(){return e.props.onFavClick()}},r.a.createElement(E.Tooltip,{placement:"top",tag:"a",component:"i",componentClass:"fa fa-heart grey-text ml-3",tooltipContent:"Add to Watchlist"})))))))}}]),t}(n.Component),N=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.videos;return r.a.createElement(E.Container,null,r.a.createElement("section",{className:"text-center my-5 py-5"},r.a.createElement("h2",{className:"h1-responsive font-weight-bold text-center my-3"},"The Pirate Shop"),r.a.createElement("p",{className:"grey-text text-center w-responsive mx-auto mb-3"},"Unlimited Edition for Star Wars fans"),r.a.createElement(E.Row,null,t&&t.constructor===Array&&t.map(function(t){return r.a.createElement(O,{key:t.id,video:t,onCartClick:function(t){return e.props.onCartClick(t)},onFavClick:function(){return e.props.onFavClick()}})}))))}}]),t}(r.a.Component),j=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.props.items;t.addDiscountsTo(a);var n=t.calculateTotal(a),o=n.discountApplied,c=n.total;return r.a.createElement(E.Container,null,r.a.createElement("section",{className:"text-center my-5 py-5"},r.a.createElement("h2",{className:"h1-responsive font-weight-bold text-center my-3"},"Your Cart"),(!a||t.isEmpty(a))&&r.a.createElement("p",{className:"grey-text text-center w-responsive mx-auto mb-3"},"Your cart is empty!"),a&&!t.isEmpty(a)&&r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"black white-text"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Quantity"),r.a.createElement("th",{scope:"col"},"Discount"),r.a.createElement("th",{scope:"col"},"Subtotal"))),r.a.createElement("tbody",null,a&&Object.keys(a).map(function(t,n){return r.a.createElement("tr",{key:t},r.a.createElement("th",{scope:"row"},n+1),r.a.createElement("td",null,r.a.createElement("b",null,r.a.createElement(v.a,{to:"/cart"},a[t].Title+" ("+a[t].cdType+")"))),r.a.createElement("td",null,"$",a[t].price),r.a.createElement("td",null,a[t].quantity," ",r.a.createElement("i",{className:"fa fa-edit fa-lg cursor",onClick:function(){return e.props.onCartClick(a[t])}})),r.a.createElement("td",{"data-toggle":"tooltip","data-placement":"bottom",title:a[t].discount>0?"Discount applied for order with all "+a[t].cdType+"s":""},100*a[t].discount,"%"),r.a.createElement("td",null,"$",a[t].price*a[t].quantity*(1-a[t].discount)))}),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"}),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("h3",null,"Total")),r.a.createElement("td",{"data-toggle":"tooltip","data-placement":"bottom",title:o?"5% Discount applied for bulk order":""},r.a.createElement("h3",null,"$",c),r.a.createElement("p",{className:"green-text"},o?"(5% Discount applied)":""))))),r.a.createElement(v.a,{to:"/",onClick:function(){return e.props.updateNavItem("")}},r.a.createElement(E.Button,{color:"dark"},"Continue Shopping"))," ",a&&!t.isEmpty(a)&&r.a.createElement(E.Button,{color:"green"},"Check out")))}}],[{key:"isEmpty",value:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},{key:"calculateDiscount",value:function(e,t,a,n){var r=0;if(t)for(var o in t)t.hasOwnProperty(o)&&t[o].cdType===a&&r++;return r>=e?n:0}},{key:"calculateTotal",value:function(e){var t=0,a=0;if(e)for(var n in e)e.hasOwnProperty(n)&&(t+=e[n].quantity,a+=e[n].price*e[n].quantity*(1-e[n].discount));return t>=100?{discountApplied:!0,total:.95*a}:{discountApplied:!1,total:a}}},{key:"addDiscountsTo",value:function(e){var a=t.calculateDiscount(3,e,"DVD",.1),n=t.calculateDiscount(3,e,"Blue-Ray",.15);if(e)for(var r in e)e.hasOwnProperty(r)&&(e[r].discount="DVD"===e[r].cdType?a:n)}}]),t}(r.a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(E.Container,{className:"my-5 py-5"},r.a.createElement(E.Row,null,r.a.createElement(E.Col,{md:"6"},r.a.createElement("form",null,r.a.createElement("p",{className:"h5 text-center mb-4"},"Sign in"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(E.Input,{label:"Type your email",icon:"envelope",group:!0,type:"email",validate:!0,error:"wrong",success:"right"}),r.a.createElement(E.Input,{label:"Type your password",icon:"lock",group:!0,type:"password",validate:!0})),r.a.createElement("div",{className:"text-center"},r.a.createElement(E.Button,{color:"dark"},"Login"))))))}}]),t}(r.a.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(E.Container,{className:"my-5 py-5"},r.a.createElement(E.Row,null,r.a.createElement(E.Col,{md:"6"},r.a.createElement("form",null,r.a.createElement("p",{className:"h5 text-center mb-4"},"Sign up"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(E.Input,{label:"Your name",icon:"user",group:!0,type:"text",validate:!0,error:"wrong",success:"right"}),r.a.createElement(E.Input,{label:"Your email",icon:"envelope",group:!0,type:"email",validate:!0,error:"wrong",success:"right"}),r.a.createElement(E.Input,{label:"Confirm your email",icon:"exclamation-triangle",group:!0,type:"text",validate:!0,error:"wrong",success:"right"}),r.a.createElement(E.Input,{label:"Your password",icon:"lock",group:!0,type:"password",validate:!0})),r.a.createElement("div",{className:"text-center"},r.a.createElement(E.Button,{color:"dark"},"Register"))))))}}]),t}(r.a.Component),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={videos:[],cartItems:{},currentItem:null,showFavNoti:!1,navItem:window.location.pathname.replace("/","")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchVideos()}},{key:"fetchVideos",value:function(){var e=this;fetch("/videos.json",{headers:w}).then(function(e){return e.json()}).then(function(e){return e.videos}).then(function(t){t&&(console.log(t),e.setState({videos:t}))}).catch(function(e){console.log(e)})}},{key:"onCartClick",value:function(e){var t=e.id in this.state.cartItems?this.state.cartItems[e.id]:e;this.setState({currentItem:t})}},{key:"onCloseCartModal",value:function(){this.setState({currentItem:null})}},{key:"onCartUpdate",value:function(e,t){var a=this.state.cartItems,n=e.id;0===t?(a[n].quantity=0,delete a[e.id]):n in a?a[n].quantity=t:(e.quantity=t,a[e.id]=e),E.toast.success("Your cart has been updated."),this.setState({cartItems:a,currentItem:null})}},{key:"onFavClick",value:function(){this.setState({showFavNoti:!0})}},{key:"onCloseFavNotiModal",value:function(){this.setState({showFavNoti:!1})}},{key:"updateNavItem",value:function(e){this.setState({navItem:e})}},{key:"render",value:function(){var e=this,a=this.state,n=a.videos,o=a.cartItems,c=a.currentItem,l=a.showFavNoti,i=a.navItem;return r.a.createElement("div",null,r.a.createElement(f,{activeItem:i,updateNavItem:function(t){return e.updateNavItem(t)},itemsCount:t.itemsCount(o)}),r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(N,{videos:n,onCartClick:function(t){return e.onCartClick(t)},onFavClick:function(){return e.onFavClick()}})}}),r.a.createElement(d.a,{path:"/cart",render:function(){return r.a.createElement(j,{items:o,onCartClick:function(t){return e.onCartClick(t)},updateNavItem:function(t){return e.updateNavItem(t)}})}}),r.a.createElement(d.a,{path:"/sign-in",component:I}),r.a.createElement(d.a,{path:"/sign-up",component:x}),c&&r.a.createElement(g,{item:c,onClose:function(){return e.onCloseCartModal()},onCartUpdate:function(t,a){return e.onCartUpdate(t,a)}}),l&&r.a.createElement(y,{onClose:function(){return e.onCloseFavNotiModal()}}),r.a.createElement(E.ToastContainer,{hideProgressBar:!0,newestOnTop:!0,autoClose:4e3,position:"bottom-left"}))}}],[{key:"itemsCount",value:function(e){var t=0;if(e)for(var a in e)e.hasOwnProperty(a)&&(t+=e[a].quantity);return t}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},41:function(e,t,a){e.exports=a(114)},45:function(e,t,a){},53:function(e,t,a){}},[[41,2,1]]]);
//# sourceMappingURL=main.f04dcbee.chunk.js.map